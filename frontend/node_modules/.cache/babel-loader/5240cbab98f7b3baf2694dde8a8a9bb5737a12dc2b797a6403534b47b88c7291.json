{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\awnma\\\\Desktop\\\\Smart Portal\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport * as jwt from 'jwt-decode'; // Import the entire module as 'jwt'\n\n// --- 1. API Setup (Axios) ---\n\n// Create an Axios instance for making API requests\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://127.0.0.1:8000/api/'\n});\n\n// --- 2. Auth Context ---\n// This context will hold auth state (user, tokens) and functions (login, logout)\n\nconst AuthContext = /*#__PURE__*/createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  // Load auth tokens from localStorage on initial render\n  const [authTokens, setAuthTokens] = useState(() => localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null);\n\n  // Get the decoding function, checking for both default and named export possibilities\n  const decodeToken = token => {\n    // Attempt to use the 'jwtDecode' named export if available (common in modern versions)\n    if (jwt.jwtDecode) {\n      return jwt.jwtDecode(token);\n    }\n    // Fallback to the default export if available (common in older versions)\n    if (typeof jwt === 'function') {\n      return jwt(token);\n    }\n    // Fallback if imported as * as jwt and the decoder is on the default property (less common, but possible)\n    if (jwt.default && typeof jwt.default === 'function') {\n      return jwt.default(token);\n    }\n    // If all else fails, return an empty object to prevent a crash\n    return {};\n  };\n\n  // Load user info from localStorage\n  const [user, setUser] = useState(() => localStorage.getItem('authTokens') ? decodeToken(JSON.parse(localStorage.getItem('authTokens')).access) : null);\n  const navigate = useNavigate();\n\n  /**\r\n   * Handles user login.\r\n   * @param {string} email\r\n   * @param {string} password\r\n   */\n  const loginUser = async (email, password) => {\n    try {\n      const response = await api.post('/login/', {\n        email,\n        password\n      });\n      if (response.status === 200) {\n        const data = response.data;\n        // Set tokens and user in state and localStorage\n        setAuthTokens(data);\n        const decodedUser = decodeToken(data.access);\n        setUser(decodedUser);\n        localStorage.setItem('authTokens', JSON.stringify(data));\n\n        // Navigate to the correct dashboard based on role\n        const userRole = decodedUser.role;\n        redirectToDashboard(userRole);\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      // You should add error handling here (e.g., set an error message state)\n      // NOTE: Custom modal/message box should be used instead of alert() in production.\n      alert('Login failed. Please check your credentials.');\n    }\n  };\n\n  /**\r\n   * Handles user logout.\r\n   */\n  const logoutUser = () => {\n    // Clear state and localStorage\n    setAuthTokens(null);\n    setUser(null);\n    localStorage.removeItem('authTokens');\n    // Redirect to login page\n    navigate('/auth');\n  };\n\n  /**\r\n   * Redirects user to their dashboard based on role.\r\n   * @param {string} role - User's role (ADMIN, LECTURER, STUDENT)\r\n   */\n  const redirectToDashboard = role => {\n    switch (role) {\n      case 'ADMIN':\n        navigate('/admin');\n        break;\n      case 'LECTURER':\n        navigate('/lecturer');\n        break;\n      case 'STUDENT':\n        navigate('/student');\n        break;\n      default:\n        navigate('/profile');\n      // Fallback\n    }\n  };\n\n  // Context value\n  const contextData = {\n    user,\n    authTokens,\n    loginUser,\n    logoutUser\n  };\n\n  // This effect runs when authTokens change to update the Axios header\n  useEffect(() => {\n    if (authTokens) {\n      api.defaults.headers.common['Authorization'] = 'Bearer ' + authTokens.access;\n    } else {\n      delete api.defaults.headers.common['Authorization'];\n    }\n  }, [authTokens]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: contextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n};\n\n// Custom hook to use the AuthContext\n_s(AuthProvider, \"bvnxbRZ+6nAL0AXF6zzp50H6nVE=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n\n// --- 3. Protected Route Component ---\n\n/**\r\n * A wrapper for routes that require authentication.\r\n * @param {{ children: React.ReactNode, roles: string[] }} props\r\n */\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst ProtectedRoute = ({\n  children,\n  roles\n}) => {\n  _s3();\n  const {\n    user\n  } = useAuth();\n  if (!user) {\n    // Not logged in, redirect to login page\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/auth\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 16\n    }, this);\n  }\n  if (roles && !roles.includes(user.role)) {\n    // Logged in, but does not have the required role\n    // Redirect to their profile or a \"Not Authorized\" page\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/profile\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 16\n    }, this);\n  }\n\n  // User is authenticated and has the correct role\n  return children;\n};\n\n// --- 4. Page Components ---\n\n/**\r\n * Main Layout with Navigation\r\n */\n_s3(ProtectedRoute, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c2 = ProtectedRoute;\nconst MainLayout = ({\n  children\n}) => {\n  _s4();\n  const {\n    user,\n    logoutUser\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [user && /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-white shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/profile\",\n              className: \"flex-shrink-0 flex items-center font-bold text-indigo-600\",\n              children: \"Smart Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:ml-6 sm:flex sm:space-x-8\",\n              children: [user.role === 'ADMIN' && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin\",\n                className: \"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\",\n                children: \"Admin Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 41\n              }, this), user.role === 'LECTURER' && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/lecturer\",\n                className: \"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\",\n                children: \"Lecturer Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 41\n              }, this), user.role === 'STUDENT' && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/student\",\n                className: \"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\",\n                children: \"Student Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/profile\",\n                className: \"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\",\n                children: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700 mr-4\",\n              children: [\"Welcome, \", user.first_name || user.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logoutUser,\n              className: \"px-3 py-2 rounded-md text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"py-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto sm:px-6 lg:px-8\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 9\n  }, this);\n};\n\n/**\r\n * Page for Login and Registration\r\n */\n_s4(MainLayout, \"IUfdTV8cFv44EVyIoMYT7TaRFhg=\", false, function () {\n  return [useAuth];\n});\n_c3 = MainLayout;\nconst AuthPage = () => {\n  _s5();\n  const [isLogin, setIsLogin] = useState(true);\n  const {\n    loginUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [role, setRole] = useState('STUDENT');\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    if (isLogin) {\n      // Handle Login\n      await loginUser(email, password);\n    } else {\n      // Handle Register\n      try {\n        const response = await api.post('/register/', {\n          email,\n          password,\n          first_name: firstName,\n          last_name: lastName,\n          role\n        });\n        if (response.status === 201) {\n          // Automatically log in the user after successful registration\n          await loginUser(email, password);\n        }\n      } catch (err) {\n        var _err$response, _err$response$data, _err$response$data$em;\n        console.error('Registration failed:', err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : (_err$response$data$em = _err$response$data.email) === null || _err$response$data$em === void 0 ? void 0 : _err$response$data$em[0]) || 'Registration failed.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 bg-white rounded-lg shadow-md w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-center text-gray-900 mb-6\",\n        children: isLogin ? 'Login to Smart Portal' : 'Create an Account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [!isLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: firstName,\n                onChange: e => setFirstName(e.target.value),\n                required: true,\n                className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: lastName,\n                onChange: e => setLastName(e.target.value),\n                required: true,\n                className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: role,\n              onChange: e => setRole(e.target.value),\n              className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"STUDENT\",\n                children: \"Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"LECTURER\",\n                children: \"Lecturer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ADMIN\",\n                children: \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true,\n            className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true,\n            className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n          children: isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-center\",\n          children: [isLogin ? \"Don't have an account? \" : \"Already have an account? \", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsLogin(!isLogin),\n            className: \"font-medium text-indigo-600 hover:text-indigo-500\",\n            children: isLogin ? 'Register' : 'Login'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 9\n  }, this);\n};\n\n/**\r\n * Profile Page (Fallback for all roles)\r\n */\n_s5(AuthPage, \"33dpfU8iFnTNgDZ5IiTvGZu8Hzo=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c4 = AuthPage;\nconst ProfilePage = () => {\n  _s6();\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    user\n  } = useAuth(); // Get user from context to show fallback info\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const response = await api.get('/profile/');\n        setProfile(response.data);\n      } catch (error) {\n        console.error('Failed to fetch profile:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, []);\n  const displayUser = profile || user; // Use fetched profile, or fallback to JWT user\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading profile...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }, this) : displayUser ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 25\n        }, this), \" \", displayUser.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"First Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 25\n        }, this), \" \", displayUser.first_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Last Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 25\n        }, this), \" \", displayUser.last_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-800 text-sm font-medium\",\n          children: displayUser.role\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Could not load profile information.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 342,\n    columnNumber: 9\n  }, this);\n};\n\n/**\r\n * Role-specific Dashboards\r\n */\n_s6(ProfilePage, \"rp2aeoH5PSOaIUfn3lmBMRnZ3V8=\", false, function () {\n  return [useAuth];\n});\n_c5 = ProfilePage;\nconst AdminDashboard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white p-6 rounded-lg shadow-md\",\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"text-2xl font-bold mb-4\",\n    children: \"Admin Dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Welcome, Admin. Here you can manage users, departments, and courses.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 364,\n  columnNumber: 5\n}, this);\n_c6 = AdminDashboard;\nconst LecturerDashboard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white p-6 rounded-lg shadow-md\",\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"text-2xl font-bold mb-4\",\n    children: \"Lecturer Dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 373,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Welcome, Lecturer. Here you can manage your courses, view enrolled students, and manage grades.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 372,\n  columnNumber: 5\n}, this);\n_c7 = LecturerDashboard;\nconst StudentDashboard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white p-6 rounded-lg shadow-md\",\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"text-2xl font-bold mb-4\",\n    children: \"Student Dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Welcome, Student. Here you can view your enrolled courses, grades, and register for new courses.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 382,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 380,\n  columnNumber: 5\n}, this);\n\n// --- 5. Main App Component (Routing) ---\n_c8 = StudentDashboard;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/auth\",\n          element: /*#__PURE__*/_jsxDEV(AuthPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/*\",\n          element: /*#__PURE__*/_jsxDEV(MainLayout, {\n            children: /*#__PURE__*/_jsxDEV(Routes, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                path: \"/admin\",\n                element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                  roles: ['ADMIN'],\n                  children: /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 101\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 67\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/lecturer\",\n                element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                  roles: ['LECTURER'],\n                  children: /*#__PURE__*/_jsxDEV(LecturerDashboard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 107\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 70\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/student\",\n                element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                  roles: ['STUDENT'],\n                  children: /*#__PURE__*/_jsxDEV(StudentDashboard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 105\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/profile\",\n                element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                  children: /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/\",\n                element: /*#__PURE__*/_jsxDEV(HomeRedirect, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                element: /*#__PURE__*/_jsxDEV(Navigate, {\n                  to: \"/profile\",\n                  replace: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 9\n  }, this);\n}\n\n// Helper component to redirect logged-in users from \"/\" to their dashboard\n_c9 = App;\nconst HomeRedirect = () => {\n  _s7();\n  const {\n    user\n  } = useAuth();\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/auth\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 16\n    }, this);\n  }\n  switch (user.role) {\n    case 'ADMIN':\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/admin\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 20\n      }, this);\n    case 'LECTURER':\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/lecturer\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 20\n      }, this);\n    case 'STUDENT':\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/student\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 20\n      }, this);\n    default:\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/profile\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 20\n      }, this);\n  }\n};\n_s7(HomeRedirect, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c0 = HomeRedirect;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"ProtectedRoute\");\n$RefreshReg$(_c3, \"MainLayout\");\n$RefreshReg$(_c4, \"AuthPage\");\n$RefreshReg$(_c5, \"ProfilePage\");\n$RefreshReg$(_c6, \"AdminDashboard\");\n$RefreshReg$(_c7, \"LecturerDashboard\");\n$RefreshReg$(_c8, \"StudentDashboard\");\n$RefreshReg$(_c9, \"App\");\n$RefreshReg$(_c0, \"HomeRedirect\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","BrowserRouter","Routes","Route","Navigate","useNavigate","Link","axios","jwt","jsxDEV","_jsxDEV","Fragment","_Fragment","api","create","baseURL","AuthContext","AuthProvider","children","_s","authTokens","setAuthTokens","localStorage","getItem","JSON","parse","decodeToken","token","jwtDecode","default","user","setUser","access","navigate","loginUser","email","password","response","post","status","data","decodedUser","setItem","stringify","userRole","role","redirectToDashboard","error","console","alert","logoutUser","removeItem","contextData","defaults","headers","common","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","ProtectedRoute","roles","_s3","to","replace","includes","_c2","MainLayout","_s4","className","first_name","onClick","_c3","AuthPage","_s5","isLogin","setIsLogin","setEmail","setPassword","firstName","setFirstName","lastName","setLastName","setRole","setError","handleSubmit","e","preventDefault","last_name","err","_err$response","_err$response$data","_err$response$data$em","onSubmit","type","onChange","target","required","_c4","ProfilePage","_s6","profile","setProfile","loading","setLoading","fetchProfile","get","displayUser","_c5","AdminDashboard","_c6","LecturerDashboard","_c7","StudentDashboard","_c8","App","path","element","HomeRedirect","_c9","_s7","_c0","$RefreshReg$"],"sources":["C:/Users/awnma/Desktop/Smart Portal/frontend/src/App.jsx"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport * as jwt from 'jwt-decode'; // Import the entire module as 'jwt'\r\n\r\n// --- 1. API Setup (Axios) ---\r\n\r\n// Create an Axios instance for making API requests\r\nconst api = axios.create({\r\n    baseURL: 'http://127.0.0.1:8000/api/',\r\n});\r\n\r\n// --- 2. Auth Context ---\r\n// This context will hold auth state (user, tokens) and functions (login, logout)\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    // Load auth tokens from localStorage on initial render\r\n    const [authTokens, setAuthTokens] = useState(() =>\r\n        localStorage.getItem('authTokens')\r\n            ? JSON.parse(localStorage.getItem('authTokens'))\r\n            : null\r\n    );\r\n\r\n    // Get the decoding function, checking for both default and named export possibilities\r\n    const decodeToken = (token) => {\r\n        // Attempt to use the 'jwtDecode' named export if available (common in modern versions)\r\n        if (jwt.jwtDecode) {\r\n            return jwt.jwtDecode(token);\r\n        }\r\n        // Fallback to the default export if available (common in older versions)\r\n        if (typeof jwt === 'function') {\r\n            return jwt(token);\r\n        }\r\n        // Fallback if imported as * as jwt and the decoder is on the default property (less common, but possible)\r\n        if (jwt.default && typeof jwt.default === 'function') {\r\n            return jwt.default(token);\r\n        }\r\n        // If all else fails, return an empty object to prevent a crash\r\n        return {};\r\n    };\r\n\r\n    // Load user info from localStorage\r\n    const [user, setUser] = useState(() =>\r\n        localStorage.getItem('authTokens')\r\n            ? decodeToken(JSON.parse(localStorage.getItem('authTokens')).access)\r\n            : null\r\n    );\r\n\r\n    const navigate = useNavigate();\r\n\r\n    /**\r\n     * Handles user login.\r\n     * @param {string} email\r\n     * @param {string} password\r\n     */\r\n    const loginUser = async (email, password) => {\r\n        try {\r\n            const response = await api.post('/login/', { email, password });\r\n            if (response.status === 200) {\r\n                const data = response.data;\r\n                // Set tokens and user in state and localStorage\r\n                setAuthTokens(data);\r\n                \r\n                const decodedUser = decodeToken(data.access);\r\n                setUser(decodedUser);\r\n                localStorage.setItem('authTokens', JSON.stringify(data));\r\n                \r\n                // Navigate to the correct dashboard based on role\r\n                const userRole = decodedUser.role; \r\n                redirectToDashboard(userRole);\r\n            }\r\n        } catch (error) {\r\n            console.error('Login failed:', error);\r\n            // You should add error handling here (e.g., set an error message state)\r\n            // NOTE: Custom modal/message box should be used instead of alert() in production.\r\n            alert('Login failed. Please check your credentials.'); \r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handles user logout.\r\n     */\r\n    const logoutUser = () => {\r\n        // Clear state and localStorage\r\n        setAuthTokens(null);\r\n        setUser(null);\r\n        localStorage.removeItem('authTokens');\r\n        // Redirect to login page\r\n        navigate('/auth');\r\n    };\r\n\r\n    /**\r\n     * Redirects user to their dashboard based on role.\r\n     * @param {string} role - User's role (ADMIN, LECTURER, STUDENT)\r\n     */\r\n    const redirectToDashboard = (role) => {\r\n        switch (role) {\r\n            case 'ADMIN':\r\n                navigate('/admin');\r\n                break;\r\n            case 'LECTURER':\r\n                navigate('/lecturer');\r\n                break;\r\n            case 'STUDENT':\r\n                navigate('/student');\r\n                break;\r\n            default:\r\n                navigate('/profile'); // Fallback\r\n        }\r\n    };\r\n\r\n    // Context value\r\n    const contextData = {\r\n        user,\r\n        authTokens,\r\n        loginUser,\r\n        logoutUser,\r\n    };\r\n\r\n    // This effect runs when authTokens change to update the Axios header\r\n    useEffect(() => {\r\n        if (authTokens) {\r\n            api.defaults.headers.common['Authorization'] = 'Bearer ' + authTokens.access;\r\n        } else {\r\n            delete api.defaults.headers.common['Authorization'];\r\n        }\r\n    }, [authTokens]);\r\n\r\n\r\n    return (\r\n        <AuthContext.Provider value={contextData}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\n// Custom hook to use the AuthContext\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\n// --- 3. Protected Route Component ---\r\n\r\n/**\r\n * A wrapper for routes that require authentication.\r\n * @param {{ children: React.ReactNode, roles: string[] }} props\r\n */\r\nconst ProtectedRoute = ({ children, roles }) => {\r\n    const { user } = useAuth();\r\n\r\n    if (!user) {\r\n        // Not logged in, redirect to login page\r\n        return <Navigate to=\"/auth\" replace />;\r\n    }\r\n\r\n    if (roles && !roles.includes(user.role)) {\r\n        // Logged in, but does not have the required role\r\n        // Redirect to their profile or a \"Not Authorized\" page\r\n        return <Navigate to=\"/profile\" replace />;\r\n    }\r\n\r\n    // User is authenticated and has the correct role\r\n    return children;\r\n};\r\n\r\n// --- 4. Page Components ---\r\n\r\n/**\r\n * Main Layout with Navigation\r\n */\r\nconst MainLayout = ({ children }) => {\r\n    const { user, logoutUser } = useAuth();\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-100\">\r\n            {user && (\r\n                <nav className=\"bg-white shadow-md\">\r\n                    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                        <div className=\"flex justify-between h-16\">\r\n                            <div className=\"flex\">\r\n                                <Link to=\"/profile\" className=\"flex-shrink-0 flex items-center font-bold text-indigo-600\">\r\n                                    Smart Portal\r\n                                </Link>\r\n                                <div className=\"hidden sm:ml-6 sm:flex sm:space-x-8\">\r\n                                    {/* Role-based navigation */}\r\n                                    {user.role === 'ADMIN' && (\r\n                                        <Link to=\"/admin\" className=\"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\">Admin Dashboard</Link>\r\n                                    )}\r\n                                    {user.role === 'LECTURER' && (\r\n                                        <Link to=\"/lecturer\" className=\"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\">Lecturer Dashboard</Link>\r\n                                    )}\r\n                                    {user.role === 'STUDENT' && (\r\n                                        <Link to=\"/student\" className=\"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\">Student Dashboard</Link>\r\n                                    )}\r\n                                    <Link to=\"/profile\" className=\"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\">Profile</Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center\">\r\n                                <span className=\"text-sm text-gray-700 mr-4\">Welcome, {user.first_name || user.email}</span>\r\n                                <button\r\n                                    onClick={logoutUser}\r\n                                    className=\"px-3 py-2 rounded-md text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n                                >\r\n                                    Logout\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            )}\r\n            <main className=\"py-10\">\r\n                <div className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\r\n                    {children}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\n/**\r\n * Page for Login and Registration\r\n */\r\nconst AuthPage = () => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const { loginUser } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [role, setRole] = useState('STUDENT');\r\n    \r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (isLogin) {\r\n            // Handle Login\r\n            await loginUser(email, password);\r\n        } else {\r\n            // Handle Register\r\n            try {\r\n                const response = await api.post('/register/', {\r\n                    email,\r\n                    password,\r\n                    first_name: firstName,\r\n                    last_name: lastName,\r\n                    role,\r\n                });\r\n                if (response.status === 201) {\r\n                    // Automatically log in the user after successful registration\r\n                    await loginUser(email, password);\r\n                }\r\n            } catch (err) {\r\n                console.error('Registration failed:', err);\r\n                setError(err.response?.data?.email?.[0] || 'Registration failed.');\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n            <div className=\"p-8 bg-white rounded-lg shadow-md w-full max-w-md\">\r\n                <h2 className=\"text-2xl font-bold text-center text-gray-900 mb-6\">\r\n                    {isLogin ? 'Login to Smart Portal' : 'Create an Account'}\r\n                </h2>\r\n                {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    {!isLogin && (\r\n                        <>\r\n                            <div className=\"flex space-x-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">First Name</label>\r\n                                    <input type=\"text\" value={firstName} onChange={(e) => setFirstName(e.target.value)} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Last Name</label>\r\n                                    <input type=\"text\" value={lastName} onChange={(e) => setLastName(e.target.value)} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700\">Role</label>\r\n                                <select value={role} onChange={(e) => setRole(e.target.value)} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white\">\r\n                                    <option value=\"STUDENT\">Student</option>\r\n                                    <option value=\"LECTURER\">Lecturer</option>\r\n                                    <option value=\"ADMIN\">Admin</option>\r\n                                </select>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\r\n                        {isLogin ? 'Login' : 'Register'}\r\n                    </button>\r\n                    <p className=\"text-sm text-center\">\r\n                        {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\r\n                        <button type=\"button\" onClick={() => setIsLogin(!isLogin)} className=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n                            {isLogin ? 'Register' : 'Login'}\r\n                        </button>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n/**\r\n * Profile Page (Fallback for all roles)\r\n */\r\nconst ProfilePage = () => {\r\n    const [profile, setProfile] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const { user } = useAuth(); // Get user from context to show fallback info\r\n\r\n    useEffect(() => {\r\n        const fetchProfile = async () => {\r\n            try {\r\n                const response = await api.get('/profile/');\r\n                setProfile(response.data);\r\n            } catch (error) {\r\n                console.error('Failed to fetch profile:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    const displayUser = profile || user; // Use fetched profile, or fallback to JWT user\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Your Profile</h1>\r\n            {loading ? (\r\n                <p>Loading profile...</p>\r\n            ) : displayUser ? (\r\n                <ul className=\"space-y-2\">\r\n                    <li><strong>Email:</strong> {displayUser.email}</li>\r\n                    <li><strong>First Name:</strong> {displayUser.first_name}</li>\r\n                    <li><strong>Last Name:</strong> {displayUser.last_name}</li>\r\n                    <li><strong>Role:</strong> <span className=\"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-800 text-sm font-medium\">{displayUser.role}</span></li>\r\n                </ul>\r\n            ) : (\r\n                <p>Could not load profile information.</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n/**\r\n * Role-specific Dashboards\r\n */\r\nconst AdminDashboard = () => (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Admin Dashboard</h1>\r\n        <p>Welcome, Admin. Here you can manage users, departments, and courses.</p>\r\n        {/* Admin-specific components would go here */}\r\n    </div>\r\n);\r\n\r\nconst LecturerDashboard = () => (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Lecturer Dashboard</h1>\r\n        <p>Welcome, Lecturer. Here you can manage your courses, view enrolled students, and manage grades.</p>\r\n        {/* Lecturer-specific components would go here */}\r\n    </div>\r\n);\r\n\r\nconst StudentDashboard = () => (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Student Dashboard</h1>\r\n        <p>Welcome, Student. Here you can view your enrolled courses, grades, and register for new courses.</p>\r\n        {/* Student-specific components would go here */}\r\n    </div>\r\n);\r\n\r\n// --- 5. Main App Component (Routing) ---\r\n\r\nfunction App() {\r\n    return (\r\n        <BrowserRouter>\r\n            <AuthProvider>\r\n                {/* AuthProvider needs access to navigate, so it's inside BrowserRouter */}\r\n                {/* We wrap routes in MainLayout to provide nav/header */}\r\n                <Routes>\r\n                    {/* Public Routes */}\r\n                    <Route path=\"/auth\" element={<AuthPage />} />\r\n                    \r\n                    {/* Routes inside MainLayout */}\r\n                    <Route\r\n                        path=\"/*\"\r\n                        element={\r\n                            <MainLayout>\r\n                                <Routes>\r\n                                    {/* Protected Routes */}\r\n                                    <Route path=\"/admin\" element={<ProtectedRoute roles={['ADMIN']}><AdminDashboard /></ProtectedRoute>} />\r\n                                    <Route path=\"/lecturer\" element={<ProtectedRoute roles={['LECTURER']}><LecturerDashboard /></ProtectedRoute>} />\r\n                                    <Route path=\"/student\" element={<ProtectedRoute roles={['STUDENT']}><StudentDashboard /></ProtectedRoute>} />\r\n                                    \r\n                                    {/* Profile page accessible to all authenticated users */}\r\n                                    <Route path=\"/profile\" element={<ProtectedRoute><ProfilePage /></ProtectedRoute>} />\r\n\r\n                                    {/* Root path redirect */}\r\n                                    <Route path=\"/\" element={<HomeRedirect />} />\r\n\r\n                                    {/* 404 Fallback */}\r\n                                    <Route path=\"*\" element={<Navigate to=\"/profile\" replace />} />\r\n                                </Routes>\r\n                            </MainLayout>\r\n                        }\r\n                    />\r\n                </Routes>\r\n            </AuthProvider>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\n// Helper component to redirect logged-in users from \"/\" to their dashboard\r\nconst HomeRedirect = () => {\r\n    const { user } = useAuth();\r\n    if (!user) {\r\n        return <Navigate to=\"/auth\" replace />;\r\n    }\r\n    switch (user.role) {\r\n        case 'ADMIN':\r\n            return <Navigate to=\"/admin\" replace />;\r\n        case 'LECTURER':\r\n            return <Navigate to=\"/lecturer\" replace />;\r\n        case 'STUDENT':\r\n            return <Navigate to=\"/student\" replace />;\r\n        default:\r\n            return <Navigate to=\"/profile\" replace />;\r\n    }\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}